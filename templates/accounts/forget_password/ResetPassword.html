{% extends "base.html" %}
{% load static %}

{% block links %}
<link rel="stylesheet" type="text/css" href="{% static 'css/signup.css' %}">

{% endblock links %}


{% block sheri %}


<div class="pt-5 container" dir="rtl">
    


    <div class=" mt-5 p-5" style="max-width: 600px; background-color: #f1f1f1; border-radius: 15px; border: 1px solid rgb(211, 211, 211); display: block; margin: auto;     box-shadow: 0 10px 15px rgba(0, 0, 0, .1) !important;">
        <h4>تغير كلمة المرور الدخول</h4>
        <p>الرجاء إكمال البيانات بالاسفل</p>

        <div style="max-width: 500px;" dir="rtl">
            <form method="post" class="pt-3 needs-validation" novalidate>
                {% csrf_token %}
 
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label">ادخل كلمة المرور الجديدة</label>

                  <div style="position: relative;" class="password-box">
                    <input type="password" name="password" id="password" class="form-control" id="exampleInputPassword1">
                    <i class="bi bi-eye-fill" style="position: absolute; top: 7px; left: 10px;" onclick="checkPassword()"></i>
                    <div class="invalid-feedback">
                    </div>
                  </div>
                </div>
   
                <button type="submit" class="btn btn-primary">تغير كلمة المرور</button>

              </form>
        </div>

    </div>


</div>



<script>
  (() => {
    'use strict'
  
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation')
  
    // Loop over them and prevent submission
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
  
        }
          let passwordBox = form.querySelector('.password-box')
          let pwd = passwordBox.querySelector('input[type="password"]')
          let pwd_validation = passwordBox.querySelector('.invalid-feedback')
          if (pwd.value.length < 6) {
            event.preventDefault()
            event.stopPropagation()
            pwd_validation.innerHTML = 'مطلوب ادخال 6 احرف او ارقام على الاقل'
            pwd.classList.add('is-invalid');
            return false
          }
        form.classList.add('was-validated')
      }, false)
    })
  })()
  </script>

<script>
  function checkPassword(){
    let obj = document.querySelector('#password');
    if (obj.type=='text') {
      obj.type = 'password'
    } else {
      obj.type = 'text'
    }
    
  }
</script>
{% endblock sheri %}